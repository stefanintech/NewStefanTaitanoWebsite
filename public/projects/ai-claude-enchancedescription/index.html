<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>AI-Powered Incident Description Enhancement with Claude AI | Stefan Taitano</title>
<meta name=keywords content="ServiceNow,UI Action,Claude AI,Incident Management,AI Integration"><meta name=description content="Integrates Claude AI into ServiceNow via a custom UI Action and REST API to enhance incident descriptions, improving clarity, consistency, and technician efficiency."><meta name=author content="Me"><link rel=canonical href=http://localhost:1313/projects/ai-claude-enchancedescription/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.0cb9668a96373e4fb1be024fddd3200716066a7707c2d8beef318d1d544965c2.css integrity="sha256-DLlmipY3Pk+xvgJP3dMgBxYGancHwti+7zGNHVRJZcI=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/projects/ai-claude-enchancedescription/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="http://localhost:1313/projects/ai-claude-enchancedescription/"><meta property="og:site_name" content="Stefan Taitano"><meta property="og:title" content="AI-Powered Incident Description Enhancement with Claude AI"><meta property="og:description" content="Integrates Claude AI into ServiceNow via a custom UI Action and REST API to enhance incident descriptions, improving clarity, consistency, and technician efficiency."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="projects"><meta property="article:published_time" content="2025-07-22T23:33:41-05:00"><meta property="article:modified_time" content="2025-07-22T23:33:41-05:00"><meta property="article:tag" content="ServiceNow"><meta property="article:tag" content="UI Action"><meta property="article:tag" content="Claude AI"><meta property="article:tag" content="Incident Management"><meta property="article:tag" content="AI Integration"><meta property="og:image" content="http://localhost:1313/gifs/ClaudeAI_EnchanceDescription_HD.gif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/gifs/ClaudeAI_EnchanceDescription_HD.gif"><meta name=twitter:title content="AI-Powered Incident Description Enhancement with Claude AI"><meta name=twitter:description content="Integrates Claude AI into ServiceNow via a custom UI Action and REST API to enhance incident descriptions, improving clarity, consistency, and technician efficiency."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Projects","item":"http://localhost:1313/projects/"},{"@type":"ListItem","position":2,"name":"AI-Powered Incident Description Enhancement with Claude AI","item":"http://localhost:1313/projects/ai-claude-enchancedescription/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"AI-Powered Incident Description Enhancement with Claude AI","name":"AI-Powered Incident Description Enhancement with Claude AI","description":"Integrates Claude AI into ServiceNow via a custom UI Action and REST API to enhance incident descriptions, improving clarity, consistency, and technician efficiency.","keywords":["ServiceNow","UI Action","Claude AI","Incident Management","AI Integration"],"articleBody":"The Objective ITIL technicians often spend valuable time drafting or refining incident descriptions for clarity and completeness, which can lead to delayed resolution and inconsistent data quality. My goal was to explore leveraging AI to quickly enhance incident descriptions, improving efficiency and data consistency from the initial reporting stage.\nThe Solution \u0026 Technical Details I developed a UI Action, “Enhance Description with Claude AI,” on the Incident table in my PDI. This solution integrates ServiceNow with Anthropic’s Claude AI via a REST API, allowing technicians to generate improved incident descriptions with a single click.\nKey functionalities include:\nUI Action: Trigger on the Incident form. Secure REST API Integration: Script Include handles outbound REST API calls to Claude AI for text processing and securely manages API keys. Automated Description Update: The enhanced text from Claude automatically updates the Incident’s “Description” field for technician review. Code Snippet Showcase This snippet from the Script Include demonstrates the core logic for making the REST API call to Claude AI:\nvar ClaudeUtils = Class.create(); ClaudeUtils.prototype = { initialize: function() { }, enhanceIncidentDescription: function(originalText) { // Only takes originalText var enhancedText = \"Error: Could not enhance description with Claude.\"; // Simple, hardcoded prompt prefix for now var promptPrefix = \"Rewrite the following IT incident description to be more professional, detailed, and clear. Focus on extracting key information and presenting it suitable for an IT support team. Original description: \"; var fullPrompt = promptPrefix + originalText; // gs.debug(\"ClaudeUtils - Reverted Full Prompt: \" + fullPrompt); // Optional debug try { // Ensure these names EXACTLY match your REST Message and HTTP Method configuration var r = new sn_ws.RESTMessageV2('Claude', 'POST'); // The variable name 'incident_text_to_enhance' must match the // ${variable_name} in your REST Message's HTTP Method \"Content\" field. r.setStringParameterNoEscape('incident_text_to_enhance', fullPrompt); var response = r.execute(); var responseBody = response.getBody(); var httpStatus = response.getStatusCode(); // gs.debug(\"ClaudeUtils - Reverted API Status: \" + httpStatus + \", Response: \" + responseBody); // Optional debug if (httpStatus == 200) { var parsedBody = JSON.parse(responseBody); if (parsedBody \u0026\u0026 parsedBody.content \u0026\u0026 parsedBody.content[0] \u0026\u0026 parsedBody.content[0].text) { enhancedText = parsedBody.content[0].text; enhancedText = enhancedText.trim(); } else { gs.error(\"ClaudeUtils (Reverted): Could not parse enhanced text from Claude response. Body: \" + responseBody); enhancedText = \"Error: Claude AI response format unexpected (reverted).\"; } } else { gs.error(\"ClaudeUtils (Reverted): Claude API request failed. Status: \" + httpStatus + \", Body: \" + responseBody); enhancedText = \"Error: Claude AI API request failed with status \" + httpStatus + \" (reverted). Details: \" + responseBody; } } catch (ex) { gs.error(\"ClaudeUtils (Reverted): Exception during Claude API call: \" + ex.getMessage()); enhancedText = \"Error: Exception during Claude AI call (reverted) - \" + ex.getMessage(); } return enhancedText; }, type: 'ClaudeUtils' }; Future Enchancements I would refactor the integration to use Integration Hub for more robust, low-code management, ensure the API key is securely stored in a system property, and pull relevant caller information from the ticket to provide Claude AI with additional context for even more detailed and accurate description enhancements.\n","wordCount":"497","inLanguage":"en","image":"http://localhost:1313/gifs/ClaudeAI_EnchanceDescription_HD.gif","datePublished":"2025-07-22T23:33:41-05:00","dateModified":"2025-07-22T23:33:41-05:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/projects/ai-claude-enchancedescription/"},"publisher":{"@type":"Organization","name":"Stefan Taitano","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/aboutme/ title="about me"><span>about me</span></a></li><li><a href=http://localhost:1313/projects/ title=projects><span>projects</span></a></li><li><a href=http://localhost:1313/posts/ title=posts><span>posts</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/projects/>Projects</a></div><h1 class="post-title entry-hint-parent">AI-Powered Incident Description Enhancement with Claude AI</h1><div class=post-meta><span title='2025-07-22 23:33:41 -0500 CDT'>July 22, 2025</span>&nbsp;·&nbsp;497 words&nbsp;·&nbsp;Me</div></header><figure class=entry-cover><img loading=eager src=http://localhost:1313/gifs/ClaudeAI_EnchanceDescription_HD.gif alt="A short video demonstrating a ServiceNow UI Action titled 'Enhance Description with Claude AI'. The video shows a user clicking the UI Action on an Incident record, which then presents an AI-generated, improved version of the incident description. The user then accepts the suggestion, updating the description field."><p>A quick look at the &lsquo;Enhance Description with Claude AI&rsquo; UI Action in ServiceNow.</p></figure><div class=post-content><h3 id=the-objective>The Objective<a hidden class=anchor aria-hidden=true href=#the-objective>#</a></h3><p>ITIL technicians often spend valuable time drafting or refining incident descriptions for clarity and completeness, which can lead to delayed resolution and inconsistent data quality. My goal was to explore leveraging AI to quickly enhance incident descriptions, improving efficiency and data consistency from the initial reporting stage.</p><h3 id=the-solution--technical-details>The Solution & Technical Details<a hidden class=anchor aria-hidden=true href=#the-solution--technical-details>#</a></h3><p>I developed a UI Action, &ldquo;Enhance Description with Claude AI,&rdquo; on the Incident table in my PDI. This solution integrates ServiceNow with Anthropic&rsquo;s Claude AI via a REST API, allowing technicians to generate improved incident descriptions with a single click.</p><p>Key functionalities include:</p><ul><li><strong>UI Action:</strong> Trigger on the Incident form.</li><li><strong>Secure REST API Integration:</strong> Script Include handles outbound REST API calls to Claude AI for text processing and securely manages API keys.</li><li><strong>Automated Description Update:</strong> The enhanced text from Claude automatically updates the Incident&rsquo;s &ldquo;Description&rdquo; field for technician review.</li></ul><h3 id=code-snippet-showcase>Code Snippet Showcase<a hidden class=anchor aria-hidden=true href=#code-snippet-showcase>#</a></h3><p>This snippet from the Script Include demonstrates the core logic for making the REST API call to Claude AI:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>ClaudeUtils</span> <span class=o>=</span> <span class=nx>Class</span><span class=p>.</span><span class=nx>create</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>ClaudeUtils</span><span class=p>.</span><span class=nx>prototype</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>initialize</span><span class=o>:</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>enhanceIncidentDescription</span><span class=o>:</span> <span class=kd>function</span><span class=p>(</span><span class=nx>originalText</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// Only takes originalText
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>var</span> <span class=nx>enhancedText</span> <span class=o>=</span> <span class=s2>&#34;Error: Could not enhance description with Claude.&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Simple, hardcoded prompt prefix for now
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>var</span> <span class=nx>promptPrefix</span> <span class=o>=</span> <span class=s2>&#34;Rewrite the following IT incident description to be more professional, detailed, and clear. Focus on extracting key information and presenting it suitable for an IT support team. Original description: &#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>fullPrompt</span> <span class=o>=</span> <span class=nx>promptPrefix</span> <span class=o>+</span> <span class=nx>originalText</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// gs.debug(&#34;ClaudeUtils - Reverted Full Prompt: &#34; + fullPrompt); // Optional debug
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// Ensure these names EXACTLY match your REST Message and HTTP Method configuration
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kd>var</span> <span class=nx>r</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>sn_ws</span><span class=p>.</span><span class=nx>RESTMessageV2</span><span class=p>(</span><span class=s1>&#39;Claude&#39;</span><span class=p>,</span> <span class=s1>&#39;POST&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>// The variable name &#39;incident_text_to_enhance&#39; must match the
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>// ${variable_name} in your REST Message&#39;s HTTP Method &#34;Content&#34; field.
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>r</span><span class=p>.</span><span class=nx>setStringParameterNoEscape</span><span class=p>(</span><span class=s1>&#39;incident_text_to_enhance&#39;</span><span class=p>,</span> <span class=nx>fullPrompt</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>response</span> <span class=o>=</span> <span class=nx>r</span><span class=p>.</span><span class=nx>execute</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>responseBody</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>getBody</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>httpStatus</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>getStatusCode</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>// gs.debug(&#34;ClaudeUtils - Reverted API Status: &#34; + httpStatus + &#34;, Response: &#34; + responseBody); // Optional debug
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nx>httpStatus</span> <span class=o>==</span> <span class=mi>200</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kd>var</span> <span class=nx>parsedBody</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>responseBody</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=nx>parsedBody</span> <span class=o>&amp;&amp;</span> <span class=nx>parsedBody</span><span class=p>.</span><span class=nx>content</span> <span class=o>&amp;&amp;</span> <span class=nx>parsedBody</span><span class=p>.</span><span class=nx>content</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>&amp;&amp;</span> <span class=nx>parsedBody</span><span class=p>.</span><span class=nx>content</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>enhancedText</span> <span class=o>=</span> <span class=nx>parsedBody</span><span class=p>.</span><span class=nx>content</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=nx>text</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    <span class=nx>enhancedText</span> <span class=o>=</span> <span class=nx>enhancedText</span><span class=p>.</span><span class=nx>trim</span><span class=p>();</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>gs</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s2>&#34;ClaudeUtils (Reverted): Could not parse enhanced text from Claude response. Body: &#34;</span> <span class=o>+</span> <span class=nx>responseBody</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=nx>enhancedText</span> <span class=o>=</span> <span class=s2>&#34;Error: Claude AI response format unexpected (reverted).&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>gs</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s2>&#34;ClaudeUtils (Reverted): Claude API request failed. Status: &#34;</span> <span class=o>+</span> <span class=nx>httpStatus</span> <span class=o>+</span> <span class=s2>&#34;, Body: &#34;</span> <span class=o>+</span> <span class=nx>responseBody</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=nx>enhancedText</span> <span class=o>=</span> <span class=s2>&#34;Error: Claude AI API request failed with status &#34;</span> <span class=o>+</span> <span class=nx>httpStatus</span> <span class=o>+</span> <span class=s2>&#34; (reverted). Details: &#34;</span> <span class=o>+</span> <span class=nx>responseBody</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>ex</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>gs</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s2>&#34;ClaudeUtils (Reverted): Exception during Claude API call: &#34;</span> <span class=o>+</span> <span class=nx>ex</span><span class=p>.</span><span class=nx>getMessage</span><span class=p>());</span>
</span></span><span class=line><span class=cl>            <span class=nx>enhancedText</span> <span class=o>=</span> <span class=s2>&#34;Error: Exception during Claude AI call (reverted) - &#34;</span> <span class=o>+</span> <span class=nx>ex</span><span class=p>.</span><span class=nx>getMessage</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>enhancedText</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;ClaudeUtils&#39;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><h3 id=future-enchancements>Future Enchancements<a hidden class=anchor aria-hidden=true href=#future-enchancements>#</a></h3><p>I would refactor the integration to use Integration Hub for more robust, low-code management, ensure the API key is securely stored in a system property, and pull relevant caller information from the ticket to provide Claude AI with additional context for even more detailed and accurate description enhancements.</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/servicenow/>ServiceNow</a></li><li><a href=http://localhost:1313/tags/ui-action/>UI Action</a></li><li><a href=http://localhost:1313/tags/claude-ai/>Claude AI</a></li><li><a href=http://localhost:1313/tags/incident-management/>Incident Management</a></li><li><a href=http://localhost:1313/tags/ai-integration/>AI Integration</a></li></ul><nav class=paginav><a class=next href=http://localhost:1313/projects/project-template/><span class=title>Next »</span><br><span>Project Title</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Stefan Taitano</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>